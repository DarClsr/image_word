<view class="container">
  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{!loading && items.length === 0}}">
    <view class="empty-illustration">
      <text class="empty-icon">🎨</text>
    </view>
    <text class="empty-title">还没有作品</text>
    <text class="empty-desc">快去生成你的第一张图片吧</text>
    <view class="btn-primary empty-btn" bindtap="goHome">
      <text>去生成</text>
    </view>
  </view>

  <!-- 作品列表 -->
  <view class="works-grid" wx:else>
    <block wx:for="{{items}}" wx:key="id">
      <view class="work-item fade-in" style="animation-delay: {{index * 0.05}}s;" bindtap="viewWork" data-id="{{item.id}}">
        <view class="work-image-wrapper">
          <image class="work-image" src="{{item.imageUrl}}" mode="aspectFill" lazy-load />
          <view class="work-status {{item.status}}" wx:if="{{item.status !== 'approved'}}">
            <text wx:if="{{item.status === 'pending'}}">审核中</text>
            <text wx:elif="{{item.status === 'rejected'}}">已拒绝</text>
          </view>
        </view>
        <view class="work-info">
          <text class="work-prompt text-clamp-2">{{item.prompt}}</text>
          <view class="work-meta">
            <text class="work-time">{{item.timeText}}</text>
            <view class="work-actions">
              <view class="action-btn" catchtap="shareWork" data-id="{{item.id}}">
                <text>📤</text>
              </view>
              <view class="action-btn" catchtap="deleteWork" data-id="{{item.id}}">
                <text>🗑️</text>
              </view>
            </view>
          </view>
        </view>
      </view>
    </block>
  </view>

  <!-- 加载更多 -->
  <view class="loading-wrapper" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">加载中...</text>
  </view>

  <!-- 没有更多 -->
  <view class="no-more" wx:if="{{noMore && items.length > 0}}">
    <view class="no-more-line"></view>
    <text class="no-more-text">没有更多了</text>
    <view class="no-more-line"></view>
  </view>
</view>
