<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card fade-in" wx:if="{{isLoggedIn}}">
    <view class="user-header">
      <image class="avatar" src="{{userInfo.avatarUrl || '/assets/images/default-avatar.png'}}" mode="aspectFill" />
      <view class="user-info">
        <text class="nickname">{{userInfo.nickName || 'ç”¨æˆ·'}}</text>
        <view class="user-tags">
          <view class="user-tag vip" wx:if="{{userInfo.memberType === 'pro'}}">
            <text>ğŸ‘‘ PROä¼šå‘˜</text>
          </view>
          <view class="user-tag" wx:elif="{{userInfo.memberType === 'basic'}}">
            <text>â­ åŸºç¡€ä¼šå‘˜</text>
          </view>
          <view class="user-tag free" wx:else>
            <text>å…è´¹ç”¨æˆ·</text>
          </view>
        </view>
      </view>
      <view class="edit-btn" bindtap="goEditProfile">
        <text class="edit-icon">âœï¸</text>
      </view>
    </view>
    
    <!-- é¢åº¦ä¿¡æ¯ -->
    <view class="quota-bar">
      <view class="quota-info">
        <text class="quota-label">å‰©ä½™é¢åº¦</text>
        <text class="quota-value">{{stats.remainQuota}}</text>
        <text class="quota-unit">æ¬¡</text>
      </view>
      <view class="quota-btn" bindtap="goRecharge">
        <text>å……å€¼</text>
      </view>
    </view>
  </view>

  <!-- æœªç™»å½•çŠ¶æ€ -->
  <view class="user-card login-card fade-in" wx:else bindtap="goLogin">
    <view class="login-content">
      <view class="avatar-placeholder">
        <text class="avatar-icon">ğŸ‘¤</text>
      </view>
      <view class="login-info">
        <text class="login-title">ç‚¹å‡»ç™»å½•</text>
        <text class="login-hint">ç™»å½•åè§£é”å…¨éƒ¨åŠŸèƒ½</text>
      </view>
      <text class="arrow">â€º</text>
    </view>
  </view>

  <!-- ç»Ÿè®¡æ•°æ® -->
  <view class="stats-card fade-in" wx:if="{{isLoggedIn}}" style="animation-delay: 0.1s;">
    <view class="stat-item" bindtap="goWorks">
      <text class="stat-value">{{stats.works}}</text>
      <text class="stat-label">ä½œå“</text>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <text class="stat-value">{{stats.likes}}</text>
      <text class="stat-label">è·èµ</text>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <text class="stat-value">{{stats.shares}}</text>
      <text class="stat-label">åˆ†äº«</text>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• - æˆ‘çš„å†…å®¹ -->
  <view class="menu-section fade-in" style="animation-delay: 0.15s;">
    <text class="menu-title">æˆ‘çš„å†…å®¹</text>
    <view class="menu-card">
      <view class="menu-item" bindtap="goWorks">
        <view class="menu-icon-wrapper" style="background: rgba(59, 130, 246, 0.1);">
          <text class="menu-icon">ğŸ¨</text>
        </view>
        <text class="menu-text">æˆ‘çš„ä½œå“</text>
        <view class="menu-badge" wx:if="{{stats.works > 0}}">{{stats.works}}</view>
        <text class="arrow">â€º</text>
      </view>
      <view class="menu-item" bindtap="goFavorites">
        <view class="menu-icon-wrapper" style="background: rgba(239, 68, 68, 0.1);">
          <text class="menu-icon">â¤ï¸</text>
        </view>
        <text class="menu-text">æˆ‘çš„æ”¶è—</text>
        <text class="arrow">â€º</text>
      </view>
      <view class="menu-item" bindtap="goDrafts">
        <view class="menu-icon-wrapper" style="background: rgba(245, 158, 11, 0.1);">
          <text class="menu-icon">ğŸ“</text>
        </view>
        <text class="menu-text">æˆ‘çš„è‰ç¨¿</text>
        <text class="arrow">â€º</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• - è´¦æˆ·è®¾ç½® -->
  <view class="menu-section fade-in" style="animation-delay: 0.2s;">
    <text class="menu-title">è´¦æˆ·è®¾ç½®</text>
    <view class="menu-card">
      <view class="menu-item" bindtap="goPoints">
        <view class="menu-icon-wrapper" style="background: rgba(139, 92, 246, 0.1);">
          <text class="menu-icon">ğŸ’</text>
        </view>
        <text class="menu-text">æˆ‘çš„ç§¯åˆ†</text>
        <text class="menu-value">{{isLoggedIn ? stats.points : '--'}}</text>
        <text class="arrow">â€º</text>
      </view>
      <view class="menu-item" bindtap="goNotification">
        <view class="menu-icon-wrapper" style="background: rgba(16, 185, 129, 0.1);">
          <text class="menu-icon">ğŸ””</text>
        </view>
        <text class="menu-text">æ¶ˆæ¯é€šçŸ¥</text>
        <view class="menu-dot" wx:if="{{hasUnread}}"></view>
        <text class="arrow">â€º</text>
      </view>
      <view class="menu-item" bindtap="goSettings">
        <view class="menu-icon-wrapper" style="background: rgba(107, 114, 128, 0.1);">
          <text class="menu-icon">âš™ï¸</text>
        </view>
        <text class="menu-text">è®¾ç½®</text>
        <text class="arrow">â€º</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• - å…¶ä»– -->
  <view class="menu-section fade-in" style="animation-delay: 0.25s;">
    <view class="menu-card">
      <view class="menu-item" bindtap="goHelp">
        <view class="menu-icon-wrapper" style="background: rgba(59, 130, 246, 0.1);">
          <text class="menu-icon">â“</text>
        </view>
        <text class="menu-text">å¸®åŠ©ä¸åé¦ˆ</text>
        <text class="arrow">â€º</text>
      </view>
      <view class="menu-item" bindtap="goAbout">
        <view class="menu-icon-wrapper" style="background: rgba(107, 114, 128, 0.1);">
          <text class="menu-icon">â„¹ï¸</text>
        </view>
        <text class="menu-text">å…³äºæˆ‘ä»¬</text>
        <text class="menu-version">v1.0.0</text>
        <text class="arrow">â€º</text>
      </view>
    </view>
  </view>

  <!-- é€€å‡ºç™»å½• -->
  <view class="logout-section fade-in" wx:if="{{isLoggedIn}}" style="animation-delay: 0.3s;">
    <view class="logout-btn" bindtap="onLogout">
      <text>é€€å‡ºç™»å½•</text>
    </view>
  </view>
</view>
