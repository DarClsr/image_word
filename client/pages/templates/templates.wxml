<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-wrapper fade-in">
    <view class="search-box">
      <text class="search-icon">ğŸ”</text>
      <input 
        class="search-input" 
        placeholder="æœç´¢æ¨¡æ¿ã€æç¤ºè¯" 
        placeholder-class="search-placeholder"
        value="{{searchKeyword}}"
        bindinput="onSearch"
        confirm-type="search"
      />
      <view class="search-clear" wx:if="{{searchKeyword}}" bindtap="clearSearch">
        <text>Ã—</text>
      </view>
    </view>
  </view>

  <!-- åˆ†ç±»ç­›é€‰ -->
  <scroll-view scroll-x class="filter-scroll" enhanced show-scrollbar="{{false}}">
    <view class="filter-list">
      <block wx:for="{{categories}}" wx:key="value">
        <view 
          class="filter-item {{currentCategory === item.value ? 'active' : ''}}" 
          bindtap="onCategoryChange" 
          data-value="{{item.value}}"
        >
          <text class="filter-icon" wx:if="{{item.icon}}">{{item.icon}}</text>
          <text>{{item.label}}</text>
        </view>
      </block>
    </view>
  </scroll-view>

  <!-- æ¨¡æ¿åˆ—è¡¨ -->
  <view class="template-list" wx:if="{{templates.length > 0}}">
    <block wx:for="{{templates}}" wx:key="id">
      <view class="template-card fade-in" bindtap="onTemplateDetail" data-id="{{item.id}}" style="animation-delay: {{index * 0.05}}s;">
        <view class="template-image-wrapper">
          <image 
            class="template-image" 
            src="{{item.imageUrl || '/assets/images/placeholder.png'}}" 
            mode="aspectFill" 
            lazy-load
          />
          <view class="template-overlay">
            <view class="template-action-btn">ä½¿ç”¨æ¨¡æ¿</view>
          </view>
        </view>
        <view class="template-content">
          <text class="template-prompt text-clamp-2">{{item.prompt}}</text>
          <view class="template-meta">
            <view class="template-tags">
              <view class="meta-tag model">{{item.model}}</view>
              <view class="meta-tag style">{{item.style}}</view>
            </view>
            <view class="template-stats">
              <view class="stat">
                <text class="stat-icon">â¤ï¸</text>
                <text class="stat-num">{{item.likesText}}</text>
              </view>
              <view class="stat">
                <text class="stat-icon">ğŸ“¤</text>
                <text class="stat-num">{{item.sharesText}}</text>
              </view>
            </view>
          </view>
        </view>
      </view>
    </block>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-wrapper" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- æ²¡æœ‰æ›´å¤š -->
  <view class="no-more" wx:if="{{noMore && templates.length > 0}}">
    <view class="no-more-line"></view>
    <text class="no-more-text">æ²¡æœ‰æ›´å¤šäº†</text>
    <view class="no-more-line"></view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && templates.length === 0}}">
    <text class="empty-icon">ğŸ“­</text>
    <text class="empty-text">æš‚æ— æ¨¡æ¿</text>
    <text class="empty-hint">æ¢ä¸ªå…³é”®è¯è¯•è¯•å§</text>
  </view>
</view>
