# 图文生成小程序 - 任务清单

> 生成日期：2026-02-05
> 目标：按优先级推进服务端落地、前后端对接、稳定性完善。

---

## 1. Server 初始化与核心链路（阻塞项）
1. 建立 `server` 基础工程（NestJS 项目骨架、`package.json`、`tsconfig.json`、`src/`、`test/`）。
2. 落地 `prisma/schema.prisma` 并完成数据库迁移。
3. 实现 Auth（小程序端登录/后台登录）+ 统一鉴权中间件。
4. 实现核心 CRUD：`Category`、`Works`、`User`。
5. 任务模块：队列（BullMQ/Redis）、任务状态流转、失败重试。
6. 对象存储：图片上传/回写 URL。

## 2. Admin 接口对接（高优先级）
1. 登录接口对接，替换 demo-token。
2. 所有页面 mock 数据替换为真实 API。
3. 分类管理拖拽排序。
4. 用户导出功能。

## 3. Client 接口与数据流（高优先级）
1. 新建 `client/services/`：请求封装 + BaseUrl + 模块接口（auth/works/category）。
2. 新建 `client/utils/`：存储、格式化、通用方法。
3. 作品列表真实拉取 + 分页/状态。
4. 结果页：下载/再生成/高清生成逻辑。
5. 登录流程对接后端。

## 4. 稳定性与体验（中优先级）
1. 任务状态轮询/推送策略优化（超时/失败提示）。
2. 错误处理与统一提示（客户端/后台）。
3. 限额/会员逻辑（如果要收费）。

## 5. 质量保障（低优先级）
1. 接口测试用例。
2. 关键流程 E2E。
3. 监控/日志/告警最小闭环。

---

如需拆分里程碑（含估时/验收标准/负责人），请告知。
